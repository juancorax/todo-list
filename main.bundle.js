(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var c={},a=[],d=0;d<e.length;d++){var s=e[d],i=o.base?s[0]+o.base:s[0],l=c[i]||0,u="".concat(i," ").concat(l);c[i]=l+1;var p=n(u),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=r(m,o);o.byIndex=d,t.splice(d,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var c=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<c.length;a++){var d=n(c[a]);t[d].references--}for(var s=o(e,r),i=0;i<c.length;i++){var l=n(c[i]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}c=s}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,c){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var d=0;d<this.length;d++){var s=this[d][0];null!=s&&(a[s]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);o&&a[l[0]]||(void 0!==c&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=c),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(601),r=n.n(o),c=n(314),a=n.n(c)()(r());a.push([e.id,":root {\n  --font-family:\n    Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;\n  --font-size: 15px;\n}\n\nbody {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  background-color: #2f2f31;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\nh1 {\n  margin-bottom: 0;\n  color: white;\n  text-shadow: 5px 5px 5px black;\n}\n\nh2 {\n  margin-top: 0;\n}\n\n.container {\n  min-width: 75%;\n  margin: 25px;\n  border: 2px solid black;\n  border-radius: 10px;\n  background-color: #bdbdbd;\n  box-shadow: 0 0 10px black;\n  display: flex;\n  overflow: hidden;\n}\n\n.container > section {\n  padding: 25px;\n  user-select: none;\n}\n\n.projects-section {\n  flex: 1;\n  border-right: 2px solid black;\n  background-color: grey;\n}\n\n.todos-section {\n  flex: 2;\n}\n\n.project,\n.todo-item {\n  margin-top: 10px;\n  border: 2px solid black;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: white;\n}\n\n.current-project {\n  color: #bdbdbd;\n  background-color: #2f2f31;\n}\n\n.project,\n.todo-showcase {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.todo-showcase-buttons {\n  display: flex;\n  gap: 5px;\n}\n\n.todo-details {\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 2px solid black;\n}\n\n.checked-todo .todo-title,\n.checked-todo .todo-details {\n  color: grey;\n  font-style: italic;\n  text-decoration: line-through;\n}\n\nbutton {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  border: 2px solid black;\n  border-radius: 10px;\n  padding: 5px;\n  background-color: #dddddd;\n  transition: all 0.5s;\n}\n\nbutton:hover {\n  color: white;\n  background-color: black;\n}\n\ndialog {\n  margin: 25px;\n  border: 2px solid black;\n  border-radius: 10px;\n  background-color: #bdbdbd;\n  box-shadow: 0 0 10px black;\n  user-select: none;\n\n  top: -50%;\n  left: 40%;\n  opacity: 0;\n  pointer-events: none;\n  transition: all 0.5s;\n}\n\ndialog.show {\n  top: 25%;\n  opacity: 1;\n  pointer-events: all;\n}\n\nform > div {\n  margin: 10px 0;\n}\n\nlabel {\n  display: block;\n}\n\n.dialog-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.validation-error {\n  color: #d32f2f;\n}\n",""]);const d=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var c=n.sourceMap;c&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={id:o,exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var o=n(72),r=n.n(o),c=n(825),a=n.n(c),d=n(659),s=n.n(d),i=n(56),l=n.n(i),u=n(540),p=n.n(u),m=n(113),f=n.n(m),h=n(365),y={};y.styleTagTransform=f(),y.setAttributes=l(),y.insert=s().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=p(),r()(h.A,y),h.A&&h.A.locals&&h.A.locals;const g=class{constructor(e){this.name=e,this.todosArray=[]}},b={store:e=>{const t=e.todosArray;localStorage.setItem(`${e.name}_todos`,JSON.stringify(t))},retrieve:e=>JSON.parse(localStorage.getItem(`${e.name}_todos`)),remove:e=>{localStorage.removeItem(`${e.name}_todos`)}},v=function(){const e=e=>{const t=e.map((e=>({name:e.name})));localStorage.setItem("projects",JSON.stringify(t))},t=e=>{localStorage.setItem("currentProjectIndex",e)};return{store:e,retrieve:()=>{let t=JSON.parse(localStorage.getItem("projects"));return null===t?(t=[new g("Default")],e(t),t):(t.forEach((e=>{e.todosArray=b.retrieve(e)})),t)},storeCurrentProjectIndex:t,retrieveCurrentProjectIndex:()=>{let e=localStorage.getItem("currentProjectIndex");return null===e&&(e=0,t(0)),e}}}(),x=function(){const e=v.retrieve();let t=v.retrieveCurrentProjectIndex();const n=t=>e[t];return{addProjectItem:n=>{const o=new g(n);e.push(o),t=e.length-1,v.storeCurrentProjectIndex(t),v.store(e)},editProjectItem:(t,o)=>{n(o).name=t,v.store(e)},deleteProjectItem:n=>{b.remove(e[n]),e.splice(n,1),0!=t&&(t--,v.storeCurrentProjectIndex(t)),v.store(e)},getCurrentProject:()=>e[t],getCurrentProjectIndex:()=>t,setCurrentProjectIndex:e=>{t=e,v.storeCurrentProjectIndex(t)},getProject:n,amountOfProjects:()=>e.length,isNameAvailable:t=>{for(const n of e)if(n.name===t)return!1;return!0}}}(),C=class{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.checked=!1}},j=(e,t,n,o,r)=>{r.todosArray.push(new C(e,t,n,o)),b.store(r)},k=(e,t,n,o,r,c)=>{const a=r.todosArray[c];a.title=e,a.description=t,a.dueDate=n,a.priority=o,b.store(r)},P=(e,t)=>{const n=t.todosArray;n.splice(e,1),0===n.length?b.remove(t):b.store(t)};function E(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const S={y(e,t){const n=e.getFullYear(),o=n>0?n:1-n;return E("yy"===t?o%100:o,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):E(n+1,2)},d:(e,t)=>E(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>E(e.getHours()%12||12,t.length),H:(e,t)=>E(e.getHours(),t.length),m:(e,t)=>E(e.getMinutes(),t.length),s:(e,t)=>E(e.getSeconds(),t.length),S(e,t){const n=t.length,o=e.getMilliseconds();return E(Math.trunc(o*Math.pow(10,n-3)),t.length)}};Math.pow(10,8);const w=Symbol.for("constructDateFrom");function I(e,t){return o=e,"function"==typeof(n=t||e)?n(o):n&&"object"==typeof n&&w in n?n[w](o):n instanceof Date?new n.constructor(o):new Date(o);var n,o}function L(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+I(e)));var t}const A=/(\w)\1*|''|'(''|[^'])+('|$)|./g,M=/^'([^]*?)'?$/,D=/''/g,T=/[a-zA-Z]/;function q(e,t){const n=I(e);if(!L(n))throw new RangeError("Invalid time value");const o=t.match(A);return o?o.map((e=>{if("''"===e)return"'";const t=e[0];if("'"===t)return function(e){const t=e.match(M);return t?t[1].replace(D,"'"):e}(e);const o=S[t];if(o)return o(n,e);if(t.match(T))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""}const N=function(){const e=document.querySelector(".todos-container"),t=(t,n,o)=>{const r=document.createElement("div");r.classList.add("todo-item"),r.setAttribute("data-index",n);const c=o.todosArray[n];c&&c.checked&&r.classList.toggle("checked-todo");const a=document.createElement("div");a.classList.add("todo-showcase");const d=document.createElement("span");d.textContent=t,d.classList.add("todo-title"),a.appendChild(d);const s=document.createElement("div");s.classList.add("todo-showcase-buttons"),function(e,t,n){const o=Number(e.dataset.index);let r=n.todosArray[o];const c=document.createElement("button");c.textContent=r&&r.checked?"Un-Check":"Check",c.addEventListener("click",(()=>{c.textContent="Check"===c.textContent?"Un-Check":"Check",e.classList.toggle("checked-todo"),r=n.todosArray[o],r.checked=!1===r.checked,b.store(n)})),t.appendChild(c)}(r,s,o),function(e,t,n){const o=document.createElement("button");o.textContent="Edit",o.addEventListener("click",(()=>{const t=Number(e.dataset.index),o=n.todosArray[t];U.display("todo",o,t)})),t.appendChild(o)}(r,s,o),function(e,t,n){const o=document.createElement("button");o.textContent="Open";let r=null;o.addEventListener("click",(()=>{if("Open"===o.textContent){o.textContent="Close";const t=Number(e.dataset.index),c=n.todosArray[t];r=document.createElement("div"),r.classList.add("todo-details");for(const e in c)if(c.hasOwnProperty(e)&&"title"!=e&&"checked"!=e){const t=document.createElement("div");let n,o,a=c[e];switch(e){case"description":n="Description: ",o="todo-description";break;case"dueDate":n="Due Date: ",a=q(a,"MM/dd/yyyy hh:mm a"),o="todo-due-date";break;case"priority":n="Priority: ",o="todo-priority"}t.textContent=n+a,t.classList.add(o),r.appendChild(t)}e.appendChild(r)}else o.textContent="Open",r.remove(),r=null})),t.appendChild(o)}(r,s,o),a.appendChild(s),r.appendChild(a),e.appendChild(r)};return{addTodoItem:([e,n,o,r])=>{const c=x.getCurrentProject();t(e,c.todosArray.length,c),j(e,n,o,r,c)},editTodoItem:([t,n,o,r],c)=>{const a=e.children[c];a.querySelector(".todo-title").textContent=t;const d=a.querySelector(".todo-details");d&&(d.querySelector(".todo-description").textContent=`Description: ${n}`,d.querySelector(".todo-due-date").textContent=`Due Date: ${q(o,"MM/dd/yyyy hh:mm a")}`,d.querySelector(".todo-priority").textContent=`Priority: ${r}`);const s=x.getCurrentProject();k(t,n,o,r,s,c)},deleteTodoItem:t=>{e.children[t].remove();const n=Array.from(e.children),o=n.length-1;if(t<=o)for(let e=t;e<=o;e++)n[e].setAttribute("data-index",e);const r=x.getCurrentProject();P(t,r)},displayTodos:()=>{e.innerHTML="";const n=x.getCurrentProject(),o=n.todosArray;o&&o.forEach(((e,o)=>{t(e.title,o,n)}))}}}(),O=N,H=function(){const e=document.querySelector(".projects-container"),t=()=>{const t=e.querySelector(".current-project");t&&t.classList.remove("current-project");const n=x.getCurrentProjectIndex();e.children[n].classList.add("current-project")},n=(n,o)=>{document.querySelector(".todos-container").innerHTML="";const r=document.createElement("div");r.classList.add("project"),r.setAttribute("data-index",o);const c=document.createElement("span");c.textContent=n,c.classList.add("project-name"),r.appendChild(c),r.addEventListener("click",(()=>{x.getCurrentProjectIndex()!=o&&(x.setCurrentProjectIndex(Number(r.dataset.index)),t(),O.displayTodos())})),function(e){const t=document.createElement("button");t.textContent="Edit",t.addEventListener("click",(t=>{t.stopPropagation();const n=Number(e.dataset.index),o=x.getProject(n);U.display("project",o,n)})),e.appendChild(t)}(r),e.appendChild(r)};return{appendProjectToContainer:n,addProjectItem:o=>{x.addProjectItem(o),n(o,e.children.length),t()},editProjectItem:(t,n)=>{x.editProjectItem(t,n),e.children[n].querySelector(".project-name").textContent=t},deleteProjectItem:n=>{if(x.amountOfProjects()>1){x.deleteProjectItem(n),e.children[n].remove();const o=Array.from(e.children),r=o.length-1;if(n<=r)for(let e=n;e<=r;e++)o[e].setAttribute("data-index",e);t(),O.displayTodos()}},displayProjects:()=>{e.innerHTML="";for(let e=0;e<x.amountOfProjects();e++){const t=x.getProject(e).name;n(t,e)}t(),O.displayTodos()}}}();function $(e,t){const n=document.createElement("div");n.textContent=t,n.classList.add("validation-error"),e.after(n)}const z={addButtons:(e,t)=>{const n=document.querySelector("dialog"),o=document.createElement("button");o.textContent=null===t?"Create":"Update",o.addEventListener("click",(o=>{o.preventDefault();const r=function(e){if(document.querySelectorAll(".validation-error").forEach((e=>e.remove())),"project"===e){const e=document.querySelector("#project-name"),t=e.value.trim();return t?x.isNameAvailable(t)?t:$(e,"name already taken"):$(e,"cannot be empty")}{const e=document.querySelector("#title"),t=document.querySelector("#description"),n=document.querySelector("#due-date"),o=[e,t,n],r=[e.value,t.value,n.value,document.querySelector("#priority").value];let c=0;for(let e=0;e<o.length;e++)r[e]?2===e&&+I(new Date(r[2]))<Date.now()&&($(o[2],"cannot be in the past"),c++):($(o[e],"cannot be empty"),c++);if(c>0)return;return r}}(e);r&&("project"===e?null===t?H.addProjectItem(r):H.editProjectItem(r,t):null===t?O.addTodoItem(r):O.editTodoItem(r,t),n.close(),n.classList.toggle("show"))}));const r=document.createElement("button");let c;r.textContent="Cancel",r.addEventListener("click",(e=>{e.preventDefault(),n.close(),n.classList.toggle("show")}));const a="project"===e?x.amountOfProjects():2;if(null!=t&&a>1){c=document.createElement("button"),c.textContent="Delete";const o="project"===e?()=>H.deleteProjectItem(t):()=>O.deleteTodoItem(t);c.addEventListener("click",(e=>{e.preventDefault(),o(),n.close(),n.classList.toggle("show")}))}return[o,r,c]}},U=function(){const e=document.querySelector("dialog"),t=document.querySelector("form");return{display:(n,o=null,r=null)=>{t.innerHTML="";const c=o?Object.values(o):null,a="project"===n?2:5,d=a-1;for(let e=0;e<a;e++){const o=document.createElement("div");let a,s,i;if(e!=d&&(a=document.createElement("label")),1!=e&&3!=e&&e!=d&&(s=document.createElement("input")),"project"===n)0===e?(a.setAttribute("for","project-name"),a.textContent="Project Name:",s.type="text",s.id="project-name",c&&(s.value=c[e])):(o.classList.add("dialog-buttons"),[a,s,i]=z.addButtons(n,r)),o.appendChild(a),o.appendChild(s),i&&o.appendChild(i),t.appendChild(o);else{switch(e){case 0:a.setAttribute("for","title"),a.textContent="Title:",s.type="text",s.id="title";break;case 1:a.setAttribute("for","description"),a.textContent="Description:",s=document.createElement("textarea"),s.id="description";break;case 2:a.setAttribute("for","due-date"),a.textContent="Due Date:",s.type="datetime-local",s.id="due-date";break;case 3:a.setAttribute("for","priority"),a.textContent="Priority:",s=document.createElement("select"),s.id="priority",[{text:"High"},{text:"Medium",selected:!0},{text:"Low"}].forEach((e=>{const t=document.createElement("option");t.textContent=e.text,e.selected&&(t.selected=!0),s.appendChild(t)}));break;case 4:o.classList.add("dialog-buttons"),[a,s,i]=z.addButtons(n,r)}c&&e!=d&&(s.value=c[e]),o.appendChild(a),o.appendChild(s),i&&o.appendChild(i),t.appendChild(o)}}e.showModal(),e.classList.toggle("show")}}}(),F=document.querySelector("#add-project-button"),J=document.querySelector("#add-todo-button");F.addEventListener("click",(()=>U.display("project"))),J.addEventListener("click",(()=>U.display("todo"))),H.displayProjects()})();